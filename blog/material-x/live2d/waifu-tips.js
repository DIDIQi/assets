// build time:Sun Aug 18 2019 01:22:04 GMT+0800 (GMT+08:00)
window.live2d_settings=[];live2d_settings["modelAPI"]="//live2d.fghrsh.net/api/";live2d_settings["tipsMessage"]="waifu-tips.json";live2d_settings["hitokotoAPI"]="lwl12.com";live2d_settings["modelId"]=1;live2d_settings["modelTexturesId"]=53;live2d_settings["showToolMenu"]=true;live2d_settings["canCloseLive2d"]=true;live2d_settings["canSwitchModel"]=true;live2d_settings["canSwitchTextures"]=true;live2d_settings["canSwitchHitokoto"]=true;live2d_settings["canTakeScreenshot"]=true;live2d_settings["canTurnToHomePage"]=true;live2d_settings["canTurnToAboutPage"]=true;live2d_settings["modelStorage"]=true;live2d_settings["modelRandMode"]="switch";live2d_settings["modelTexturesRandMode"]="rand";live2d_settings["showHitokoto"]=true;live2d_settings["showF12Status"]=true;live2d_settings["showF12Message"]=false;live2d_settings["showF12OpenMsg"]=true;live2d_settings["showCopyMessage"]=true;live2d_settings["showWelcomeMessage"]=true;live2d_settings["waifuSize"]="280x250";live2d_settings["waifuTipsSize"]="250x70";live2d_settings["waifuFontSize"]="12px";live2d_settings["waifuToolFont"]="14px";live2d_settings["waifuToolLine"]="20px";live2d_settings["waifuToolTop"]="0px";live2d_settings["waifuMinWidth"]="768px";live2d_settings["waifuEdgeSide"]="left:0";live2d_settings["waifuDraggable"]="disable";live2d_settings["waifuDraggableRevert"]=true;live2d_settings["l2dVersion"]="1.4.2";live2d_settings["l2dVerDate"]="2018.11.12";live2d_settings["homePageUrl"]="/";live2d_settings["aboutPageUrl"]="/about";live2d_settings["screenshotCaptureName"]="live2d.png";String.prototype.render=function(e){var t=/(\\)?\{([^\{\}\\]+)(\\)?\}/g;return this.replace(t,function(t,i,s,o){if(i||o){return t.replace("\\","")}var n=s.replace(/\s/g,"").split(".");var a=e;var l,u,d;for(l=0,u=n.length;l<u;++l){d=n[l];a=a[d];if(a===undefined||a===null)return""}return a})};var re=/x/;console.log(re);function empty(e){return typeof e=="undefined"||e==null||e===""}function getRandText(e){return Array.isArray(e)?e[Math.floor(Math.random()*e.length+1)-1]:e}function showMessage(e,t,i){if(i||sessionStorage.getItem("waifu-text")===""||sessionStorage.getItem("waifu-text")===null){if(Array.isArray(e))e=e[Math.floor(Math.random()*e.length+1)-1];if(live2d_settings.showF12Message)console.log("[Message]",e.replace(/<[^<>]+>/g,""));if(i)sessionStorage.setItem("waifu-text",e);$(".waifu-tips").stop();$(".waifu-tips").html(e).fadeTo(200,1);if(t===undefined)t=5e3;hideMessage(t)}}function hideMessage(e){$(".waifu-tips").stop().css("opacity",1);if(e===undefined)e=5e3;window.setTimeout(function(){sessionStorage.removeItem("waifu-text")},e);$(".waifu-tips").delay(e).fadeTo(200,0)}function initModel(waifuPath,type){eval(function(e,t,i,s,o,n){o=function(e){return(e<t?"":o(parseInt(e/t)))+((e=e%t)>35?String.fromCharCode(e+29):e.toString(36))};if(!"".replace(/^/,String)){while(i--)n[o(i)]=s[i]||o(i);s=[function(e){return n[e]}];o=function(){return"\\w+"};i=1}while(i--)if(s[i])e=e.replace(new RegExp("\\b"+o(i)+"\\b","g"),s[i]);return e}("8.d(\" \");8.d(\"\\U,.\\y\\5.\\1\\1\\1\\1/\\1,\\u\\2 \\H\\n\\1\\1\\1\\1\\1\\b ', !-\\r\\j-i\\1/\\1/\\g\\n\\1\\1\\1 \\1 \\a\\4\\f'\\1\\1\\1 L/\\a\\4\\5\\2\\n\\1\\1 \\1 /\\1 \\a,\\1 /|\\1 ,\\1 ,\\1\\1\\1 ',\\n\\1\\1\\1\\q \\1/ /-\\j/\\1\\h\\E \\9 \\5!\\1 i\\n\\1\\1\\1 \\3 \\6 7\\q\\4\\c\\1 \\3'\\s-\\c\\2!\\t|\\1 |\\n\\1\\1\\1\\1 !,/7 '0'\\1\\1 \\X\\w| \\1 |\\1\\1\\1\\n\\1\\1\\1\\1 |.\\x\\\"\\1\\l\\1\\1 ,,,, / |./ \\1 |\\n\\1\\1\\1\\1 \\3'| i\\z.\\2,,A\\l,.\\B / \\1.i \\1|\\n\\1\\1\\1\\1\\1 \\3'| | / C\\D/\\3'\\5,\\1\\9.\\1|\\n\\1\\1\\1\\1\\1\\1 | |/i \\m|/\\1 i\\1,.\\6 |\\F\\1|\\n\\1\\1\\1\\1\\1\\1.|/ /\\1\\h\\G \\1 \\6!\\1\\1\\b\\1|\\n\\1\\1\\1 \\1 \\1 k\\5>\\2\\9 \\1 o,.\\6\\2 \\1 /\\2!\\n\\1\\1\\1\\1\\1\\1 !'\\m//\\4\\I\\g', \\b \\4'7'\\J'\\n\\1\\1\\1\\1\\1\\1 \\3'\\K|M,p,\\O\\3|\\P\\n\\1\\1\\1\\1\\1 \\1\\1\\1\\c-,/\\1|p./\\n\\1\\1\\1\\1\\1 \\1\\1\\1'\\f'\\1\\1!o,.:\\Q \\R\\S\\T v\"+e.V+\" / W \"+e.N);8.d(\" \");",60,60,"|u3000|uff64|uff9a|uff40|u30fd|uff8d||console|uff8a|uff0f|uff3c|uff84|log|live2d_settings|uff70|u00b4|uff49||u2010||u3000_|u3008||_|___|uff72|u2500|uff67|u30cf|u30fc||u30bd|u4ece|u30d8|uff1e|__|u30a4|k_|uff17_|u3000L_|u3000i|uff1a|u3009|uff34|uff70r|u30fdL__||___i|l2dVerDate|u30f3|u30ce|nLive2D|u770b|u677f|u5a18|u304f__|l2dVersion|FGHRSH|u00b40i".split("|"),0,{}));if(typeof $.ajax!="function")typeof jQuery.ajax=="function"?window.$=jQuery:console.log("[Error] JQuery is not defined.");live2d_settings.waifuSize=live2d_settings.waifuSize.split("x");live2d_settings.waifuTipsSize=live2d_settings.waifuTipsSize.split("x");live2d_settings.waifuEdgeSide=live2d_settings.waifuEdgeSide.split(":");$("#live2d").attr("width",live2d_settings.waifuSize[0]);$("#live2d").attr("height",live2d_settings.waifuSize[1]);$(".waifu-tips").width(live2d_settings.waifuTipsSize[0]);$(".waifu-tips").height(live2d_settings.waifuTipsSize[1]);$(".waifu-tips").css("top",live2d_settings.waifuToolTop);$(".waifu-tips").css("font-size",live2d_settings.waifuFontSize);$(".waifu-tool").css("font-size",live2d_settings.waifuToolFont);$(".waifu-tool span").css("line-height",live2d_settings.waifuToolLine);if(live2d_settings.waifuEdgeSide[0]=="left")$(".waifu").css("left",live2d_settings.waifuEdgeSide[1]+"px");else if(live2d_settings.waifuEdgeSide[0]=="right")$(".waifu").css("right",live2d_settings.waifuEdgeSide[1]+"px");window.waifuResize=function(){$(window).width()<=Number(live2d_settings.waifuMinWidth.replace("px",""))?$(".waifu").hide():$(".waifu").show()};if(live2d_settings.waifuMinWidth!="disable"){waifuResize();$(window).resize(function(){waifuResize()})}try{if(live2d_settings.waifuDraggable=="axis-x")$(".waifu").draggable({axis:"x",revert:live2d_settings.waifuDraggableRevert});else if(live2d_settings.waifuDraggable=="unlimited")$(".waifu").draggable({revert:live2d_settings.waifuDraggableRevert});else $(".waifu").css("transition","all .3s ease-in-out")}catch(err){console.log("[Error] JQuery UI is not defined.")}live2d_settings.homePageUrl=="auto"?window.location.protocol+"//"+window.location.hostname+"/":live2d_settings.homePageUrl;if(window.location.protocol=="file:"&&live2d_settings.modelAPI.substr(0,2)=="//")live2d_settings.modelAPI="https:"+live2d_settings.modelAPI;$(".waifu-tool .fui-home").click(function(){window.location=live2d_settings.homePageUrl});$(".waifu-tool .fui-info-circle").click(function(){window.open(live2d_settings.aboutPageUrl)});if(typeof waifuPath=="object")loadTipsMessage(waifuPath);else{$.ajax({cache:true,url:waifuPath==""?live2d_settings.tipsMessage:waifuPath.substr(waifuPath.length-15)=="waifu-tips.json"?waifuPath:waifuPath+"waifu-tips.json",dataType:"json",success:function(e){loadTipsMessage(e)}})}if(!live2d_settings.showToolMenu)$(".waifu-tool").hide();if(!live2d_settings.canCloseLive2d)$(".waifu-tool .fui-cross").hide();if(!live2d_settings.canSwitchModel)$(".waifu-tool .fui-eye").hide();if(!live2d_settings.canSwitchTextures)$(".waifu-tool .fui-user").hide();if(!live2d_settings.canSwitchHitokoto)$(".waifu-tool .fui-chat").hide();if(!live2d_settings.canTakeScreenshot)$(".waifu-tool .fui-photo").hide();if(!live2d_settings.canTurnToHomePage)$(".waifu-tool .fui-home").hide();if(!live2d_settings.canTurnToAboutPage)$(".waifu-tool .fui-info-circle").hide();if(waifuPath===undefined)waifuPath="";var modelId=localStorage.getItem("modelId");var modelTexturesId=localStorage.getItem("modelTexturesId");if(!live2d_settings.modelStorage||modelId==null){var modelId=live2d_settings.modelId;var modelTexturesId=live2d_settings.modelTexturesId}loadModel(modelId,modelTexturesId)}function loadModel(e,t){t=t||0;if(live2d_settings.modelStorage){localStorage.setItem("modelId",e);localStorage.setItem("modelTexturesId",t)}else{sessionStorage.setItem("modelId",e);sessionStorage.setItem("modelTexturesId",t)}loadlive2d("live2d",live2d_settings.modelAPI+"get/?id="+e+"-"+t,live2d_settings.showF12Status?console.log("[Status]","live2d","模型",e+"-"+t,"加载完成"):null)}function loadTipsMessage(e){window.waifu_tips=e;$.each(e.mouseover,function(e,t){$(document).on("mouseover",t.selector,function(){var e=getRandText(t.text);e=e.render({text:$(this).text()});showMessage(e,3e3)})});$.each(e.click,function(e,t){$(document).on("click",t.selector,function(){var e=getRandText(t.text);e=e.render({text:$(this).text()});showMessage(e,3e3,true)})});$.each(e.seasons,function(e,t){var i=new Date;var s=t.date.split("-")[0];var o=t.date.split("-")[1]||s;if(s.split("/")[0]<=i.getMonth()+1&&i.getMonth()+1<=o.split("/")[0]&&(s.split("/")[1]<=i.getDate()&&i.getDate()<=o.split("/")[1])){var n=getRandText(t.text);n=n.render({year:i.getFullYear()});showMessage(n,6e3,true)}});if(live2d_settings.showF12OpenMsg){re.toString=function(){showMessage(getRandText(e.waifu.console_open_msg),5e3,true);return""}}if(live2d_settings.showCopyMessage){$(document).on("copy",function(){showMessage(getRandText(e.waifu.copy_message),5e3,true)})}$(".waifu-tool .fui-photo").click(function(){showMessage(getRandText(e.waifu.screenshot_message),5e3,true);window.Live2D.captureName=live2d_settings.screenshotCaptureName;window.Live2D.captureFrame=true});$(".waifu-tool .fui-cross").click(function(){sessionStorage.setItem("waifu-dsiplay","none");showMessage(getRandText(e.waifu.hidden_message),1300,true);window.setTimeout(function(){$(".waifu").hide()},1300)});window.showWelcomeMessage=function(e){var t;if(window.location.href==live2d_settings.homePageUrl){var i=(new Date).getHours();if(i>23||i<=5)t=getRandText(e.waifu.hour_tips.t23-5);else if(i>5&&i<=7)t=getRandText(e.waifu.hour_tips.t5-7);else if(i>7&&i<=11)t=getRandText(e.waifu.hour_tips.t7-11);else if(i>11&&i<=14)t=getRandText(e.waifu.hour_tips.t11-14);else if(i>14&&i<=17)t=getRandText(e.waifu.hour_tips.t14-17);else if(i>17&&i<=19)t=getRandText(e.waifu.hour_tips.t17-19);else if(i>19&&i<=21)t=getRandText(e.waifu.hour_tips.t19-21);else if(i>21&&i<=23)t=getRandText(e.waifu.hour_tips.t21-23);else t=getRandText(e.waifu.hour_tips.default)}else{var s=e.waifu.referrer_message;if(document.referrer!==""){var o=document.createElement("a");o.href=document.referrer;var n=o.hostname.split(".")[1];if(window.location.hostname==o.hostname)t=s.localhost[0]+document.title.split(s.localhost[2])[0]+s.localhost[1];else if(n=="baidu")t=s.baidu[0]+o.search.split("&wd=")[1].split("&")[0]+s.baidu[1];else if(n=="so")t=s.so[0]+o.search.split("&q=")[1].split("&")[0]+s.so[1];else if(n=="google")t=s.google[0]+document.title.split(s.google[2])[0]+s.google[1];else{$.each(e.waifu.referrer_hostname,function(e,t){if(e==o.hostname)o.hostname=getRandText(t)});t=s.default[0]+o.hostname+s.default[1]}}else t=s.none[0]+document.title.split(s.none[2])[0]+s.none[1]}showMessage(t,6e3)};if(live2d_settings.showWelcomeMessage)showWelcomeMessage(e);var t=e.waifu;function i(){var e=o("modelId");var i=live2d_settings.modelRandMode;$.ajax({cache:i=="switch"?true:false,url:live2d_settings.modelAPI+i+"/?id="+e,dataType:"json",success:function(e){loadModel(e.model["id"]);var i=e.model["message"];$.each(t.model_message,function(t,s){if(t==e.model["id"])i=getRandText(s)});showMessage(i,3e3,true)}})}function s(){var e=o("modelId");var i=o("modelTexturesId");var s=live2d_settings.modelTexturesRandMode;$.ajax({cache:s=="switch"?true:false,url:live2d_settings.modelAPI+s+"_textures/?id="+e+"-"+i,dataType:"json",success:function(s){if(s.textures["id"]==1&&(i==1||i==0))showMessage(t.load_rand_textures[0],3e3,true);else showMessage(t.load_rand_textures[1],3e3,true);loadModel(e,s.textures["id"])}})}function o(e){return live2d_settings.modelStorage?localStorage.getItem(e):sessionStorage.getItem(e)}if(live2d_settings.showHitokoto){window.getActed=false;window.hitokotoTimer=0;window.hitokotoInterval=false;$(document).mousemove(function(e){getActed=true}).keydown(function(){getActed=true});setInterval(function(){if(!getActed)n();else a()},1e3)}function n(){if(!hitokotoInterval){hitokotoInterval=true;hitokotoTimer=window.setInterval(l,3e4)}}function a(){getActed=hitokotoInterval=false;window.clearInterval(hitokotoTimer)}function l(){if($(document)[0].visibilityState=="visible")u()}function u(){switch(live2d_settings.hitokotoAPI){case"lwl12.com":$.getJSON("https://api.lwl12.com/hitokoto/v1?encode=realjson",function(e){if(!empty(e.source)){var i=t.hitokoto_api_message["lwl12.com"][0];if(!empty(e.author))i+=t.hitokoto_api_message["lwl12.com"][1];i=i.render({source:e.source,creator:e.author});window.setTimeout(function(){showMessage(i+t.hitokoto_api_message["lwl12.com"][2],3e3,true)},5e3)}showMessage(e.text,5e3,true)});break;case"fghrsh.net":$.getJSON("https://api.fghrsh.net/hitokoto/rand/?encode=jsc&uid=3335",function(e){if(!empty(e.source)){var i=t.hitokoto_api_message["fghrsh.net"][0];i=i.render({source:e.source,date:e.date});window.setTimeout(function(){showMessage(i,3e3,true)},5e3);showMessage(e.hitokoto,5e3,true)}});break;case"jinrishici.com":$.ajax({url:"https://v2.jinrishici.com/one.json",xhrFields:{withCredentials:true},success:function(e,i){if(!empty(e.data.origin.title)){var s=t.hitokoto_api_message["jinrishici.com"][0];s=s.render({title:e.data.origin.title,dynasty:e.data.origin.dynasty,author:e.data.origin.author});window.setTimeout(function(){showMessage(s,3e3,true)},5e3)}showMessage(e.data.content,5e3,true)}});break;default:$.getJSON("https://v1.hitokoto.cn",function(e){if(!empty(e.from)){var i=t.hitokoto_api_message["hitokoto.cn"][0];i=i.render({source:e.from,creator:e.creator});window.setTimeout(function(){showMessage(i,3e3,true)},5e3)}showMessage(e.hitokoto,5e3,true)})}}$(".waifu-tool .fui-eye").click(function(){i()});$(".waifu-tool .fui-user").click(function(){s()});$(".waifu-tool .fui-chat").click(function(){u()})}
//rebuild by neat 