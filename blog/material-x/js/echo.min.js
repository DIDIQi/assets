// build time:Sun Aug 18 2019 01:22:03 GMT+0800 (GMT+08:00)
(function(e,t){if(typeof define==="function"&&define.amd){define(function(){return t(e)})}else if(typeof exports==="object"){module.exports=t}else{e.echo=t(e)}})(this,function(e){"use strict";var t={};var r=function(){};var n,o,a,c,i;var l=function(e){return e.offsetParent===null};var u=function(e,t){if(l(e)){return false}var r=e.getBoundingClientRect();return r.right>=t.l&&r.bottom>=t.t&&r.left<=t.r&&r.top<=t.b};var d=function(){if(!c&&!!o){return}clearTimeout(o);o=setTimeout(function(){t.render();o=null},a)};t.init=function(o){o=o||{};var l=o.offset||0;var u=o.offsetVertical||l;var f=o.offsetHorizontal||l;var s=function(e,t){return parseInt(e||t,10)};n={t:s(o.offsetTop,u),b:s(o.offsetBottom,u),l:s(o.offsetLeft,f),r:s(o.offsetRight,f)};a=s(o.throttle,250);c=o.debounce!==false;i=!!o.unload;r=o.callback||r;t.render();if(document.addEventListener){e.addEventListener("scroll",d,false);e.addEventListener("load",d,false)}else{e.attachEvent("onscroll",d);e.attachEvent("onload",d)}};t.render=function(){var o=document.querySelectorAll("img[data-echo], [data-echo-background]");var a=o.length;var c,l;var d={l:0-n.l,t:0-n.t,b:(e.innerHeight||document.documentElement.clientHeight)+n.b,r:(e.innerWidth||document.documentElement.clientWidth)+n.r};for(var f=0;f<a;f++){l=o[f];if(u(l,d)){if(i){l.setAttribute("data-echo-placeholder",l.src)}if(l.getAttribute("data-echo-background")!==null){l.style.backgroundImage="url("+l.getAttribute("data-echo-background")+")"}else{l.src=l.getAttribute("data-echo")}if(!i){l.removeAttribute("data-echo");l.removeAttribute("data-echo-background")}r(l,"load")}else if(i&&!!(c=l.getAttribute("data-echo-placeholder"))){if(l.getAttribute("data-echo-background")!==null){l.style.backgroundImage="url("+c+")"}else{l.src=c}l.removeAttribute("data-echo-placeholder");r(l,"unload")}}if(!a){t.detach()}};t.detach=function(){if(document.removeEventListener){e.removeEventListener("scroll",d)}else{e.detachEvent("onscroll",d)}clearTimeout(o)};return t});
//rebuild by neat 
